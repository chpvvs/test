@extends('admin::layouts.wrapper')

@section('page')
    <div class="content">
        <div class="content__inside">
            <div class="cabinet">
                <div class="cabinet__header">
                    <div class="cabinet__title">
                        @lang('admin::main.cabinet.change_user_profile')<span>{{ $account->login }}<span>
                    </div>
                </div>

                <div class="cabinet__user-info">
                    <div class="cabinet__image">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                             viewBox="0 0 350 350" style="enable-background:new 0 0 350 350;" xml:space="preserve">
							<g>
                                <path d="M175,171.173c38.914,0,70.463-38.318,70.463-85.586C245.463,38.318,235.105,0,175,0s-70.465,38.318-70.465,85.587
									C104.535,132.855,136.084,171.173,175,171.173z"/>
                                <path d="M41.909,301.853C41.897,298.971,41.885,301.041,41.909,301.853L41.909,301.853z"/>
                                <path d="M308.085,304.104C308.123,303.315,308.098,298.63,308.085,304.104L308.085,304.104z"/>
                                <path d="M307.935,298.397c-1.305-82.342-12.059-105.805-94.352-120.657c0,0-11.584,14.761-38.584,14.761
									s-38.586-14.761-38.586-14.761c-81.395,14.69-92.803,37.805-94.303,117.982c-0.123,6.547-0.18,6.891-0.202,6.131
									c0.005,1.424,0.011,4.058,0.011,8.651c0,0,19.592,39.496,133.08,39.496c113.486,0,133.08-39.496,133.08-39.496
									c0-2.951,0.002-5.003,0.005-6.399C308.062,304.575,308.018,303.664,307.935,298.397z"/>
                            </g>
						</svg>
                    </div>
                    <div class="cabinet__title">
                        @lang('admin::main.cabinet.user_info')
                    </div>
                    <div class="cabinet__edit">
                        <div class="cabinet__user-row">
                            <div class="cabinet__user-name">@lang('admin::main.cabinet.first_name')</div>
                            <div class="cabinet__user-edit">
                                <a href='#' class='editable' data-field='name'>{{ $account->name }}</a>
                            </div>
                        </div>
                        <div class="cabinet__user-row">
                            <div class="cabinet__user-name">Email</div>
                            <div class="cabinet__user-edit">
                                <a href='#' class='editable' data-type="email"
                                   data-field='email'>{{ $account->email }}</a>
                            </div>
                        </div>
                        <div class="cabinet__user-row">
                            <div class="cabinet__user-name">@lang('admin::main.cabinet.phone')</div>
                            <div class="cabinet__user-edit">
                                <a href='#' class='editable' data-type="tel"
                                   data-field='phone'>{{ $account->phone }}</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="cabinet__user-photo">
                    <div class="cabinet__image">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                             viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">
							<g>
                                <path d="M30,20.5c-6.617,0-12,5.383-12,12s5.383,12,12,12s12-5.383,12-12S36.617,20.5,30,20.5z"/>
                                <path d="M55.201,15.5h-8.524l-4-10H17.323l-4,10H12v-5H6v5H4.799C2.152,15.5,0,17.652,0,20.299v29.368
									C0,52.332,2.168,54.5,4.833,54.5h50.334c2.665,0,4.833-2.168,4.833-4.833V20.299C60,17.652,57.848,15.5,55.201,15.5z M10,15.5H8v-3
									h2V15.5z M30,50.5c-9.925,0-18-8.075-18-18s8.075-18,18-18s18,8.075,18,18S39.925,50.5,30,50.5z M52,27.5c-2.206,0-4-1.794-4-4
									s1.794-4,4-4s4,1.794,4,4S54.206,27.5,52,27.5z"/>
                            </g>
						</svg>
                    </div>
                    <div class="cabinet__title">
                        @lang('admin::main.cabinet.photo')
                    </div>
                    <div class="cabinet__edit">
                        @if (is_file($avatar_path."/big/".$account->avatar) )
                            <div class="avatar__edit">
                                <div class="avatar__panel">
                                    <div class="avatar__image">
                                        <img src='{{ $avatar_path."/thumb/".$account->avatar }}' title="avatar"
                                             alt="avatar"/>
                                    </div>
                                    <a title="@lang('admin::main.crop')" href="#" class='avatar__crop'>
                                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                                             viewBox="0 0 23.65 23.65" style="enable-background:new 0 0 23.65 23.65;"
                                             xml:space="preserve">
											<g>
                                                <path d="M0.587,0.057l6.529,0.621c0,0,0.869-0.027,0.383,0.457C7.011,1.624,5.833,2.801,5.833,2.801
												S6.12,3.09,6.563,3.526c1.254,1.258,3.539,3.543,4.469,4.473c0,0,0.318,0.189-0.064,0.57c-0.383,0.387-2.072,2.068-2.346,2.344
												c-0.268,0.273-0.475,0.057-0.475,0.057c-0.904-0.904-3.27-3.266-4.484-4.482C3.271,6.092,3.015,5.835,3.015,5.835
												S2.067,6.78,1.474,7.374c-0.59,0.592-0.588-0.299-0.588-0.299S0.062,1.225,0.062,0.52C0.062,0.016,0.587,0.057,0.587,0.057z"/>
                                                <path d="M23.122,23.608l-6.523-0.621c0,0-0.871,0.025-0.387-0.461c0.486-0.484,1.666-1.666,1.666-1.666
												s-0.287-0.285-0.727-0.723c-1.256-1.26-3.541-3.543-4.471-4.479c0,0-0.322-0.18,0.062-0.564s2.07-2.07,2.346-2.344
												c0.271-0.275,0.477-0.059,0.477-0.059c0.902,0.906,3.27,3.27,4.482,4.482c0.393,0.395,0.65,0.654,0.65,0.654
												s0.949-0.947,1.541-1.541c0.59-0.592,0.59,0.301,0.59,0.301s0.822,5.854,0.822,6.549C23.651,23.647,23.122,23.608,23.122,23.608z"
                                                />
                                                <path d="M0.001,23.094l0.615-6.531c0,0-0.023-0.869,0.465-0.383c0.484,0.486,1.664,1.668,1.664,1.668
												S3.03,17.561,3.47,17.12c1.256-1.256,3.541-3.541,4.475-4.475c0,0,0.184-0.316,0.568,0.066c0.383,0.387,2.07,2.072,2.344,2.346
												c0.273,0.271,0.055,0.477,0.055,0.477c-0.906,0.904-3.266,3.27-4.48,4.486c-0.395,0.393-0.652,0.648-0.652,0.648
												s0.945,0.947,1.537,1.537c0.592,0.594-0.297,0.59-0.297,0.59s-5.85,0.824-6.551,0.824C-0.042,23.62,0.001,23.094,0.001,23.094z"/>
                                                <path d="M23.552,0.557l-0.615,6.529c0,0,0.023,0.869-0.461,0.383c-0.49-0.49-1.668-1.664-1.668-1.664
												s-0.286,0.286-0.725,0.725c-1.256,1.256-3.543,3.541-4.475,4.473c0,0-0.184,0.318-0.568-0.066s-2.068-2.066-2.346-2.34
												c-0.27-0.279-0.057-0.482-0.057-0.482c0.906-0.904,3.27-3.268,4.484-4.48c0.396-0.395,0.65-0.652,0.65-0.652
												s-0.943-0.945-1.537-1.539c-0.592-0.592,0.299-0.586,0.299-0.586s5.849-0.828,6.552-0.828C23.595,0.03,23.552,0.557,23.552,0.557z"
                                                />
                                            </g>
										</svg>
                                    </a>
                                    <a title="@lang('admin::main.delete')" href="#" data-id="{{$account->id}}"
                                       class='avatar__delete'>
                                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                                             viewBox="0 0 408.483 408.483"
                                             style="enable-background:new 0 0 408.483 408.483;" xml:space="preserve">
											<g>
                                                <path d="M87.748,388.784c0.461,11.01,9.521,19.699,20.539,19.699h191.911c11.018,0,20.078-8.689,20.539-19.699l13.705-289.316
												H74.043L87.748,388.784z M247.655,171.329c0-4.61,3.738-8.349,8.35-8.349h13.355c4.609,0,8.35,3.738,8.35,8.349v165.293
												c0,4.611-3.738,8.349-8.35,8.349h-13.355c-4.61,0-8.35-3.736-8.35-8.349V171.329z M189.216,171.329
												c0-4.61,3.738-8.349,8.349-8.349h13.355c4.609,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.737,8.349-8.349,8.349h-13.355
												c-4.61,0-8.349-3.736-8.349-8.349V171.329L189.216,171.329z M130.775,171.329c0-4.61,3.738-8.349,8.349-8.349h13.356
												c4.61,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.738,8.349-8.349,8.349h-13.356c-4.61,0-8.349-3.736-8.349-8.349V171.329z"/>
                                                <path class="hui" d="M343.567,21.043h-88.535V4.305c0-2.377-1.927-4.305-4.305-4.305h-92.971c-2.377,0-4.304,1.928-4.304,4.305v16.737H64.916
												c-7.125,0-12.9,5.776-12.9,12.901V74.47h304.451V33.944C356.467,26.819,350.692,21.043,343.567,21.043z"/>
                                            </g>
										</svg>
                                    </a>
                                </div>
                                <div class="avatar__info">
                                    <a target="_blank"
                                       href='{{ $avatar_path."/big/".$account->avatar }}'>{{ $account->avatar }}</a>
                                    <span>{{ round((filesize($avatar_path."/big/".$account->avatar))/1024, 2) }}
                                        Кб</span>
                                </div>
                            </div>
                        @endif
                        <div class="upload">
                            <a class="upload__avatar" href="#"></a>
                            <input type='file' id='upload__avatar' name='userfile[]'/>
                        </div>
                    </div>
                </div>

                <div class="cabinet__user-login">
                    <div class="cabinet__image">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                             viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
							<g>
                                <g>
                                    <path d="M437.333,192h-32v-42.667C405.333,66.99,338.344,0,256,0S106.667,66.99,106.667,149.333V192h-32
										C68.771,192,64,196.771,64,202.667v266.667C64,492.865,83.135,512,106.667,512h298.667C428.865,512,448,492.865,448,469.333
										V202.667C448,196.771,443.229,192,437.333,192z M287.938,414.823c0.333,3.01-0.635,6.031-2.656,8.292
										c-2.021,2.26-4.917,3.552-7.948,3.552h-42.667c-3.031,0-5.927-1.292-7.948-3.552c-2.021-2.26-2.99-5.281-2.656-8.292l6.729-60.51
										c-10.927-7.948-17.458-20.521-17.458-34.313c0-23.531,19.135-42.667,42.667-42.667s42.667,19.135,42.667,42.667
										c0,13.792-6.531,26.365-17.458,34.313L287.938,414.823z M341.333,192H170.667v-42.667C170.667,102.281,208.948,64,256,64
										s85.333,38.281,85.333,85.333V192z"/>
                                </g>
                            </g>
						</svg>
                    </div>
                    <div class="cabinet__title">
                        @lang('admin::main.cabinet.authorization_parameters')
                    </div>
                    <div class="cabinet__edit">
                        <div class='edit'>
                            <div class="edit__name">
                                @lang('admin::main.cabinet.login')
                            </div>
                            <div class="edit__login">
                                <a href='#' class='change_login fake_editable'>{{ $account->login }}</a>
                            </div>
                            <div class="edit__change">
                                <a href='#' class='change_password'>@lang('admin::main.cabinet.change_password')</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="cabinet__user-languages">
                    <div class="cabinet__image">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="438.533px"
                             height="438.533px" viewBox="0 0 438.533 438.533"
                             style="enable-background:new 0 0 438.533 438.533;" xml:space="preserve">
			        <g>
                        <path d="M409.133,109.203c-19.608-33.592-46.205-60.189-79.798-79.796C295.736,9.801,259.058,0,219.273,0
			          c-39.781,0-76.466,9.801-110.063,29.407c-33.595,19.604-60.192,46.201-79.8,79.796C9.801,142.8,0,179.489,0,219.267
			          s9.804,76.463,29.407,110.062c19.607,33.585,46.204,60.189,79.799,79.798c33.597,19.605,70.283,29.407,110.063,29.407
			          s76.47-9.802,110.065-29.407c33.593-19.602,60.189-46.206,79.795-79.798c19.603-33.599,29.403-70.287,29.403-110.062
			          C438.533,179.489,428.732,142.795,409.133,109.203z M246.697,334.633c-1.913-2.279-2.574-4.186-1.999-5.715
			          c-0.191,0.954-0.858,1.81-1.998,2.569c-0.951-1.14-2.67-2.569-5.141-4.28c-2.478-1.719-4.188-3.143-5.14-4.292
			          c-0.384-0.568-0.903-1.376-1.571-2.423c-0.667-1.047-1.522-2.426-2.569-4.141c-1.041-1.711-1.801-3.189-2.279-4.429
			          c-0.473-1.238-0.517-1.95-0.144-2.135c-3.614,1.526-8.85,0.479-15.701-3.142c-1.331-0.76-3.333-2.759-5.996-5.996
			          s-5.424-4.661-8.28-4.284c-0.95,0.191-2.236,0.523-3.855,0.999c-1.615,0.479-2.996,0.712-4.139,0.712
			          c-1.143,0-2.666-0.376-4.57-1.144c-1.52-0.567-3.566-1.666-6.136-3.281c-2.568-1.615-4.331-2.621-5.28-2.994
			          c-2.474-1.335-3.711-1.999-3.711-1.999l-4.568-2.279c-1.143-0.567-2.334-1.472-3.571-2.71c-1.237-1.239-2.043-2.525-2.424-3.857
			          c-0.38-1.139-0.856-3.425-1.427-6.854c-0.571-3.43-1.334-5.9-2.284-7.42c-1.14-1.902-2.758-3.806-4.854-5.708
			          c-2.091-1.902-3.994-2.861-5.708-2.861c1.524,0,1.524-1.276,0-3.853c-1.524-2.574-2.856-4.429-3.999-5.564
			          c-0.381-0.384-1.524-1.619-3.427-3.717c-1.903-2.095-3.521-3.898-4.853-5.428c-1.331-1.522-2.478-3.281-3.427-5.283
			          c-0.95-1.999-1.143-3.662-0.571-4.997c0.189-0.188,0-0.476-0.572-0.855c-0.571-0.376-1.282-0.763-2.141-1.143
			          c-0.855-0.377-1.665-0.712-2.424-0.999c-0.765-0.281-1.336-0.425-1.715-0.425c0.383,0.767,0.81,2.143,1.287,4.141
			          c0.476,2.002,0.999,3.478,1.569,4.429c0.383,0.76,1.999,3.524,4.854,8.274c4.952,7.994,7.232,13.901,6.854,17.706
			          c-1.143,0.377-1.906,0.191-2.286-0.568c-0.381-0.759-0.669-1.807-0.857-3.141c-0.19-1.328-0.378-2.279-0.572-2.854
			          c-0.571-1.143-2.046-2.382-4.427-3.717c-2.378-1.327-3.855-2.662-4.425-3.997c0.192,0,0.426-0.089,0.714-0.287
			          c0.287-0.191,0.527-0.28,0.715-0.28c0.193-1.712-0.806-3.901-2.996-6.571c-2.19-2.662-3.09-4.564-2.712-5.708
			          c-1.524-1.143-2.856-3.381-3.999-6.707c-1.142-3.333-2.095-5.476-2.856-6.429c-0.76-1.138-1.709-2.137-2.853-2.996
			          c-1.143-0.854-2.568-1.805-4.283-2.853c-1.713-1.047-2.856-1.759-3.427-2.141c-0.382-0.187-1.141-1.04-2.284-2.564
			          c-6.28-7.616-8.183-11.709-5.708-12.279c-2.474,0.57-4.521-1.284-6.139-5.57c-1.619-4.281-2.141-7.568-1.571-9.851l-0.57-0.284
			          c0.192-0.763,0.286-2.996,0.286-6.711c0-3.713,0.24-7.092,0.715-10.136c0.478-3.045,1.381-4.57,2.712-4.57
			          c-1.331,0.19-2.329-1.002-2.996-3.567c-0.666-2.572-0.713-4.334-0.144-5.284c0.19-0.572,1.049-0.187,2.57,1.143
			          c1.52,1.328,2.378,2.19,2.568,2.568c2.475-1.336,3.428-3.046,2.856-5.142c-0.381-0.76-2.38-2.758-5.996-5.996
			          c-8.186-5.327-12.375-7.898-12.562-7.71c1.138-2.091,0.854-3.899-0.859-5.424c-1.902,1.143-2.996,1.427-3.283,0.859
			          c-0.284-0.572-0.522-1.615-0.715-3.14c-0.188-1.521-0.666-2.377-1.425-2.568c-0.953-0.19-2.096-0.95-3.427-2.283
			          c16.939-27.028,39.303-48.155,67.093-63.385c1.141-0.188,3.234-0.284,6.279-0.284c1.521,0.19,2.95,0.667,4.281,1.427
			          c1.333,0.76,2.714,1.809,4.139,3.14c1.43,1.328,2.524,2.281,3.284,2.853c0.381-1.143-0.094-2.856-1.426-5.14
			          c0.378-1.143,2.473-2.286,6.28-3.427c4.375-0.571,7.233-0.478,8.564,0.287c-1.14-1.714-3.042-4.094-5.708-7.138l-1.427,1.425
			          c-1.524-1.331-5.518-0.666-11.991,1.999c-0.378,0.188-1.331,0.715-2.855,1.569c-1.521,0.855-2.762,1.475-3.711,1.855
			          c-1.143,0.381-2.284,0.476-3.427,0.286c9.135-4.947,18.083-8.855,26.84-11.707c0.566,0.378,1.52,1.188,2.853,2.424
			          c1.331,1.237,2.378,2.143,3.14,2.712c-0.571-0.378-0.953-0.192-1.143,0.571c-0.76,2.283-0.76,4.186,0,5.708
			          c0.95,1.336,2.236,2.093,3.855,2.286c1.619,0.188,3.568,0.094,5.852-0.288c2.284-0.378,3.809-0.571,4.57-0.571l2.856,0.288
			          c6.089,0.571,8.47,0,7.138-1.715c0.57,0.765,1.236,2.334,1.997,4.714c0.76,2.38,1.619,4.046,2.568,4.998
			          c0.953-0.765,1.143-2.096,0.571-3.999c-0.571-1.903-0.571-3.239,0-3.999c0.188-0.378,0.76-0.763,1.713-1.143
			          c0.953-0.378,2.046-0.806,3.284-1.282c1.237-0.478,2.046-0.81,2.43-0.999c1.141-0.763,0.378-2.096-2.286-3.999
			          c-0.381-0.191-1.188-0.476-2.424-0.857c-1.237-0.375-2.334-0.761-3.284-1.14c-0.95-0.378-1.949-0.903-2.996-1.569
			          c-1.047-0.667-1.524-1.427-1.431-2.286c0.096-0.859,0.622-1.951,1.571-3.284c1.143-0.949,3-1.331,5.568-1.141
			          c2.568,0.188,4.521,0.663,5.852,1.425c5.142,2.856,5.901,5.43,2.286,7.71c1.906,0.188,4.19,0.95,6.854,2.281
			          c2.662,1.334,3.709,2.762,3.14,4.286c1.523-2.855,3.044-4.286,4.569-4.286c0.95,0.193,1.858,1.479,2.712,3.858
			          c0.855,2.378,1.377,3.662,1.566,3.855c1.526,2.091,3.039,2.568,4.572,1.425c1.52-1.141,3.094-2.806,4.709-4.996
			          c1.615-2.187,2.519-3.186,2.711-2.996c-1.903-0.758-2.102-1.521-0.568-2.283c2.847-1.713,5.421-2.19,7.707-1.425
			          c0.567,0.378,1.334,1.237,2.278,2.565c1.708,3.431,1.424,5.046-0.855,4.856c1.711,1.524,2.42,3.429,2.143,5.71
			          c-0.287,2.284-1.77,3.332-4.432,3.14c-0.948,0-2.334-0.478-4.145-1.427c-1.807-0.95-3.186-1.472-4.141-1.569
			          c-0.951-0.099-2.286,0.426-3.997,1.569c-0.76,0.953-1.759,2.572-2.998,4.854c-1.238,2.288-2.334,3.903-3.285,4.853
			          c-2.853,2.855-7.616,3.904-14.277,3.14c0.572,0,0.522,0.571-0.144,1.714c-0.669,1.141-1.569,2.428-2.712,3.854
			          c-1.143,1.427-1.809,2.236-1.997,2.426c-1.714,1.903-2.855,4.093-3.427,6.567c0,0.381-0.096,1.667-0.288,3.853
			          c-0.193,2.19-0.571,3.858-1.143,4.998c2.284-0.571,4.093,0.575,5.424,3.427c1.143,2.666,1.143,4.093,0,4.285
			          c6.283-0.948,11.803-0.57,16.565,1.143c6.851,2.474,10.759,4.948,11.71,7.423c1.137-1.715,3.895-1.812,8.275-0.288
			          c1.714,0.95,3.23,3.809,4.571,8.564c0.76,2.853,2.047,5.33,3.854,7.422c1.811,2.093,3.758,2.663,5.855,1.713l0.853-0.571
			          c0.763-0.378,1.379-0.713,1.854-0.998c0.479-0.284,0.999-0.666,1.567-1.143c0.575-0.476,0.91-0.904,0.999-1.282
			          c0.089-0.38-0.048-0.765-0.424-1.143c-1.335-1.143-2.334-2.712-2.998-4.708c-0.66-1.999-0.517-3.761,0.432-5.286
			          c0.567-0.76,2.091-1.903,4.564-3.427c2.478-1.525,4.001-3.046,4.568-4.569c0.771-2.474-0.188-4.521-2.851-6.141
			          c-2.665-1.615-4-3.09-4-4.425c0-0.953,0.619-2.093,1.854-3.427c1.242-1.331,1.766-2.572,1.571-3.711c0-0.575-0.336-1.762-1-3.571
			          c-0.66-1.812-1.047-3.143-1.14-3.999c-0.096-0.857,0.336-1.856,1.283-2.996c1.328-0.763,4.47-0.715,9.418,0.14
			          c4.949,0.859,8.187,1.763,9.713,2.712c0.574,0.378,1.81,0.95,3.713,1.714c1.902,0.756,3.569,1.565,5,2.425
			          c1.42,0.855,2.23,1.661,2.419,2.424h-1.424c1.331,1.146,2.143,2.474,2.423,3.999c0.288,1.528-0.424,2.667-2.135,3.431
			          c1.136-0.193,2.665,0.094,4.568,0.855c3.046,1.141,3.142,2.19,0.287,3.14c0.568-0.193,1.376-0.38,2.42-0.572
			          c1.047-0.19,1.852-0.477,2.426-0.855c0.377-0.192,0.855-0.522,1.424-1c0.575-0.476,0.999-0.763,1.287-0.854
			          c0.287-0.094,0.711-0.193,1.286-0.288c0.568-0.094,1.137,0.05,1.704,0.428c0.199,0,0.623-0.477,1.287-1.427
			          c0.66-0.949,1.383-1.902,2.139-2.852c0.764-0.95,1.424-1.425,1.999-1.425c0.564,0,1.092,0.234,1.563,0.71
			          c0.482,0.478,0.855,0.999,1.144,1.571c0.287,0.572,0.567,1.191,0.855,1.853c0.287,0.666,0.52,1.193,0.712,1.571
			          c0.376,0.95,1.286,1.953,2.71,2.996c1.424,1.044,2.327,2.046,2.71,2.996c0.192,0.572,0.565,2,1.14,4.287
			          c0.568,2.284,1.335,3.853,2.283,4.708c0.951,0.859,2.378,1.571,4.28,2.141c0.381,0.193,1.243,0.096,2.57-0.282
			          c1.328-0.383,2.427-0.478,3.282-0.288c0.862,0.188,1.286,0.948,1.286,2.284c1.14-1.143,1.708-1.906,1.708-2.284
			          c0.195,2.475,0.808,4.475,1.862,5.996c1.047,1.52,2.71,2.19,4.996,1.997l-0.575,6.283c-0.568,0.95-1.995,1.662-4.284,2.137
			          c-2.286,0.478-3.71,0.909-4.285,1.287c-0.568,0.19-1.95,1.332-4.141,3.428c-2.19,2.096-3.087,3.333-2.71,3.711
			          c-3.23-3.617-8.091-4.664-14.559-3.14c-7.23,1.142-12.183,2.284-14.845,3.427c-3.043,1.525-5.141,2.95-6.283,4.281
			          c-0.191,0.19-0.517,0.859-0.996,1.999c-0.476,1.141-0.951,2.19-1.424,3.14c-0.482,0.95-0.903,1.426-1.283,1.426
			          c1.146-0.185,2.427-1.094,3.854-2.709c1.431-1.619,2.334-2.519,2.711-2.712c4.944-3.234,9.037-4.377,12.292-3.403
			          c4.186,1.143,4.853,2.667,1.995,4.57c-0.373,0.378-1.379,0.521-2.994,0.428c-1.615-0.094-2.711-0.05-3.285,0.144
			          c1.718,0.378,3.141,0.903,4.291,1.565c1.136,0.666,1.424,1.571,0.852,2.712c3.043,1.714,3.617,3.617,1.715,5.713
			          c-2.478,2.478-5.421,3.521-8.85,3.14c0.575,0,0.575,0.382,0,1.142l-4.859,3.14c-0.377,0.187-1.615,0.662-3.71,1.427
			          c-2.094,0.756-3.524,1.619-4.284,2.568c-0.568,0.762-0.855,1.903-0.855,3.431c0,1.525-0.096,2.668-0.287,3.428
			          c-0.188,0.765-0.952,0.949-2.279,0.571c-0.575,1.141-2.334,2.046-5.284,2.708c-2.95,0.666-4.9,1.665-5.852,2.996
			          c1.136,1.525,1.047,3.046-0.288,4.57c-2.286,1.906-4.284,1.713-5.995-0.571c-0.951,0.381-1.667,1.331-2.143,2.856
			          c-0.472,1.524-1.19,2.571-2.136,3.14c1.335,2.094,1.137,3.621-0.567,4.568c0.185,0,0.616,0.193,1.279,0.572
			          c0.664,0.38,1.376,0.855,2.143,1.427c0.76,0.572,1.231,0.859,1.424,0.859c-0.76,1.709-1.811,2.565-3.142,2.565
			          c1.143,3.047-0.281,6.38-4.277,9.994c-0.768,0.76-1.958,1.52-3.573,2.284c-1.626,0.76-3.097,1.377-4.432,1.854
			          c-1.335,0.477-2.091,0.809-2.282,0.999c-1.903,1.716-3.334,3.475-4.281,5.282c-0.948,1.811-1.092,3.569-0.432,5.284
			          c0.668,1.718,2.427,2.854,5.287,3.429l0.277,2.282v5.137l0.287,2.286c0.195,1.331,0.339,2.522,0.432,3.572
			          c0.093,1.048,0.093,2.375,0,3.997c-0.093,1.615-0.523,2.522-1.283,2.707c-0.756,0.195-1.804,0-3.139-0.571
			          c-1.529-0.76-3.333-4.948-5.431-12.56c-0.38-1.902-1.526-4.182-3.429-6.851c-0.951,0.951-1.759,1.567-2.423,1.852
			          c-0.661,0.287-1.144,0.339-1.421,0.144c-0.287-0.188-0.811-0.619-1.573-1.283c-0.76-0.664-1.421-1.191-1.995-1.567
			          c-0.952-0.568-2.615-1.048-5-1.424c-2.375-0.38-3.858-0.859-4.422-1.427c-4.573,3.432-7.335,2.569-8.285-2.563
			          c-0.378,0.948-0.332,2.231,0.144,3.854c0.478,1.618,0.715,2.519,0.715,2.71c-1.331,2.478-3.424,2.662-6.28,0.568
			          c-1.143-1.137-3.761-1.28-7.854-0.425c-4.093,0.853-6.805,0.996-8.136,0.425c0.193,0,0.571,0.284,1.143,0.858
			          c0.57,0.373,0.953,0.661,1.142,0.853c-0.192,0.764-0.476,1.331-0.859,1.711c-0.382,0.377-0.763,0.521-1.142,0.432
			          c-0.381-0.096-0.809-0.096-1.287,0c-0.476,0.089-0.903,0.232-1.285,0.424c-0.761,0.568-1.711,1.567-2.854,2.994
			          c-1.141,1.428-1.997,2.331-2.568,2.707c1.14,3.046,1.665,5.38,1.571,6.995c-0.099,1.622-0.381,4.001-0.859,7.139
			          s-0.715,5.664-0.715,7.57c0,3.038,0.905,6.57,2.712,10.561c1.809,3.997,3.949,6.755,6.424,8.281
			          c1.336,0.76,3.621,1.232,6.854,1.421c3.235,0.194,5.52,0,6.851-0.568c1.143-0.564,1.997-1.235,2.568-1.995
			          c0.571-0.76,1.049-1.862,1.427-3.285c0.381-1.424,0.669-2.423,0.859-2.991c1.331-3.621,3.805-5.523,7.417-5.715
			          c2.293-0.191,3.949,0.055,5.003,0.712c1.047,0.667,1.472,1.57,1.28,2.714c-0.192,1.139-0.571,2.33-1.137,3.568
			          c-0.574,1.239-1.286,2.615-2.144,4.142c-0.851,1.529-1.378,2.669-1.562,3.433c-0.381,1.522-0.719,3.661-0.999,6.427
			          c-0.287,2.758-0.528,4.425-0.719,4.999c0.384,0.186,1.809,0.281,4.281,0.281c0-0.377,0.144-1,0.431-1.855
			          c0.281-0.855,0.425-1.379,0.425-1.567c0.955,1.526,2.478,2.375,4.572,2.567c2.094,0.191,3.62-0.568,4.571-2.283
			          c0.384,0.572,1.526,2.002,3.43,4.288c1.902,2.279,2.949,4.182,3.142,5.708c0.191,0.767,0.567,1.999,1.136,3.717
			          c0.575,1.711,0.767,2.902,0.575,3.572c-0.191,0.657-1.144,0.996-2.854,0.996c-0.76,0-1.238,0.287-1.424,0.855
			          c-0.198,0.575-0.198,1.283,0,2.139c0.192,0.855,0.432,1.667,0.712,2.427c0.284,0.756,0.664,1.571,1.137,2.427
			          c0.485,0.849,0.719,1.375,0.719,1.566c3.422,6.276,8.09,7.991,13.989,5.141c0,5.517-1.334,8.562-4.004,9.13
			          C250.308,337.873,248.6,336.912,246.697,334.633z M250.961,399.134c-0.376-1.903-0.568-3.423-0.547-4.559
			          c-0.199-1.526,0.472-3.573,1.991-6.14c1.522-2.566,2.282-4.521,2.282-5.852c-3.045-0.76-4.186-3.237-3.432-7.423
			          c0.383-2.857,3.141-6.663,8.281-11.42c3.62-3.237,4.757-7.81,3.429-13.705c-0.575-2.475-1.054-6.095-1.431-10.853
			          c-0.376-4.76-0.76-8.09-1.143-9.992c0,0.568,0.903,1.092,2.717,1.567c1.808,0.472,2.902,1.095,3.282,1.848
			          c0.38-0.564,0.853-1.615,1.427-3.135c0.568-1.526,1.144-2.665,1.704-3.429c0.384-0.571,1.191-1.283,2.431-2.143
			          c1.238-0.855,2.046-1.375,2.426-1.567c0.373-0.188,1.235-0.804,2.563-1.854c1.334-1.047,2.43-1.852,3.288-2.423
			          c0.862-0.571,1.995-0.999,3.426-1.28c1.431-0.287,2.427,0.138,2.994,1.28c0.955,1.144,0.767,2.902-0.567,5.284
			          c-1.335,2.382-1.335,4.048,0,5.003c0.194-0.575,0.38-1.817,0.567-3.72c0.195-1.903,0.767-3.33,1.715-4.288
			          c1.143-1.136,2.234-1.807,3.285-1.992c1.047-0.198,1.995-0.055,2.848,0.428c0.862,0.476,1.861,1.133,2.998,1.995
			          c1.143,0.855,2.189,1.38,3.141,1.567c2.854,0.952,6.283,3.046,10.28,6.283c-0.191-0.194-0.191-0.431,0-0.719
			          c0.192-0.28,0.568-0.567,1.144-0.855c0.568-0.28,1.088-0.567,1.567-0.855c0.472-0.284,0.992-0.513,1.567-0.708l0.855-0.287
			          c1.328,0,2.282-0.093,2.851-0.288c0.567-0.188,1.386,0,2.426,0.575c1.041,0.568,1.76,0.996,2.136,1.283
			          c0.383,0.28,1.047,0.804,1.999,1.567c0.951,0.76,1.622,1.335,1.991,1.711c0.575,0.376,1.622,1.047,3.142,1.999
			          c1.526,0.951,2.717,1.711,3.573,2.278c0.862,0.568,1.621,1.431,2.278,2.563c0.664,1.15,0.911,2.386,0.719,3.72
			          c1.144,0.192,3.423,0.948,6.852,2.279c0.575,0.377,1.759,0.716,3.572,0.996c1.808,0.287,2.998,0.719,3.569,1.283
			          C323.579,374.295,290.169,392.282,250.961,399.134z"></path>
                    </g>
			      </svg>
                    </div>
                    <div class="cabinet__title">
                        @lang('admin::main.cabinet.languages')
                    </div>
                    <div class="cabinet__edit">
                        <div class="language">
                            <div class="language__name">
                                @lang('admin::main.cabinet.default_language')
                            </div>
                            <div class="language__select">
                                <select id='account_lang'>
                                    @foreach($languages->langs as $language)
                                        <option value="{{ $language->code }}" {{ ($language->code==$account->lang) ? "selected" : "" }} >{{ $language->name }}</option>
                                    @endforeach
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <form id='crop_form' class='hide' method="POST" action="{{ route('admin.crop') }}">
                    {{ csrf_field() }}
                    <input type="hidden" name='img_big' value='{{ $avatar_path."/big/".$account->avatar }}'>
                    <input type="hidden" name='img_small' value='{{ $avatar_path."/small/".$account->avatar }}'>
                    <input type="hidden" name='img_thumb' value='{{ $avatar_path."/thumb/".$account->avatar }}'>
                    <input type="hidden" name='aspect' value='4:4'>
                    <input type="hidden" name='aspectable' value='1'>
                    <input type="hidden" name='back_url' value='{{ Request::path() }}'>
                    <input type="submit" id="submit_crop_form">
                </form>

            </div>
        </div>
    </div>

    <div id="modal_change_login" class="modalka" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modalka__overlay"></div>
        <div class="modalka__holder">
            <div class="modalka__content">
                <div class="modalka__close">
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                         viewBox="0 0 348.333 348.334" style="enable-background:new 0 0 348.333 348.334;"
                         xml:space="preserve">
						<g>
                            <path d="M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85
								c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563
								c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85
								l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554
								L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z"/>
                        </g>
					</svg>
                </div>
                <div class="modalka__title">@lang('admin::main.cabinet.new_login')</div>
                <form id="change_login-form" class="modalka__form">
                    {{ csrf_field() }}
                    <div class="modalka__row">
                        <label for="new_login" class='modalka__label'>@lang('admin::main.cabinet.new_login')</label>
                        <input name='new_login' id='new_login' type='text' class='modalka__input' required/>
                    </div>
                    <div class="modalka__row">
                        <label for="password" class='modalka__label'>@lang('admin::main.password')</label>
                        <input name='password' id='password' type='password' class='modalka__input' required/>
                    </div>
                    <input name='url' value="admin/cabinet" type='hidden'/>
                    <input name='account_id' value="{{ $account->id }}" type='hidden'/>
                </form>
            </div>
            <button id="change_login" class="modalka__btn">@lang('admin::main.save')</button>
        </div>
    </div>

    <div id="modal_change_password" class="modalka" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modalka__overlay"></div>
        <div class="modalka__holder">
            <div class="modalka__content">
                <div class="modalka__close">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 348.333 348.334"
                         style="enable-background:new 0 0 348.333 348.334;" xml:space="preserve">
						<g>
                            <path d="M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85
								c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563
								c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85
								l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554
								L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z"/>
                        </g>
					</svg>
                </div>
                <div class="modalka__title">@lang('admin::main.cabinet.new_password')</div>
                <form id="change_password-form" class="modalka__form">
                    <div class="modalka__row">
                        <label for="old_password"
                               class='modalka__label'>@lang('admin::main.cabinet.old_password')</label>
                        <input name='old_password' id='old_password' type='password' class='modalka__input' required/>
                    </div>
                    <div class="modalka__row">
                        <label for="new_password"
                               class='modalka__label'>@lang('admin::main.cabinet.new_password')</label>
                        <input name='new_password' id='new_password' type='text' class='modalka__input' required/>
                    </div>
                    <div class="modalka__row">
                        <label for="new_password_again"
                               class='modalka__label'>@lang('admin::main.cabinet.new_password_again')</label>
                        <input name='new_password_again' id='new_password_again' type='text' class='modalka__input'
                               required/>
                    </div>
                    <input name='url' value="admin/cabinet" type='hidden'/>
                    <input name='account_id' value="{{ $account->id }}" type='hidden'/>
                </form>
            </div>
            <button id="change_password" class="modalka__btn">@lang('admin::main.save')</button>
        </div>
    </div>
@stop

@section('scripts')
    <script type="text/javascript" src="{{ asset('public/demos/admin/js/jquery.validate.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('public/demos/admin/js/localization/messages_ru.js') }}"></script>
    <script type="text/javascript" src="{{ asset('public/demos/admin/js/jquery.botnd-upload.js') }}"></script>
    <script>
        $(document).ready(function () {
            $("#change_login-form").validate({
                submitHandler: function (form) {
                    var formdata = $("#change_login-form").serialize();
                    $.ajax({
                        url: '{{ route('admin.cabinet.change-login') }}',
                        type: 'POST',
                        data: formdata,
                        error: function (data) {
                            if (data.responseText == 'wrong_password') {
                                alertify.error("@lang('admin::main.cabinet.wrong_password')");
                            } else if (data.responseText == 'login_exist') {
                                alertify.error("@lang('admin::main.cabinet.login_exist')");
                            } else {
                                alertify.error("@lang('admin::main.error')");
                            }
                        },
                        success: function (data) {
                            if (data == 'ok') {
                                alertify.success("@lang('admin::main.saved')");
                                setTimeout(function () {
                                    $('#modal_change_login').modal('hide');
                                    window.location.reload(true);

                                }, 1000);
                            } else {
                                alertify.error("@lang('admin::main.error')");
                            }
                        }
                    });
                }
            });

            $("#change_password-form").validate({
                rules: {
                    new_password: {
                        required: true,
                        minlength: 6
                    },
                    new_password_again: {
                        required: true,
                        equalTo: "#new_password",
                        minlength: 6
                    }
                },
                submitHandler: function (form) {
                    var formdata = $("#change_password-form").serialize();
                    $.ajax({
                        url: "{{route('admin.cabinet.change-password')}}",
                        type: 'POST',
                        data: formdata,
                        error: function (data) {
                            if (data.responseText == 'wrong_password') {
                                alertify.error("@lang('admin::main.cabinet.wrong_password')");
                            } else {
                                alertify.error("@lang('admin::main.error')");
                            }
                        },
                        success: function (data) {
                            if (data == 'ok') {
                                alertify.success("@lang('admin::main.saved')");
                                setTimeout(function () {
                                    $('#modal_change_password').modal('hide');
                                }, 1000);
                            } else {
                                alertify.error("@lang('admin::main.error')");
                            }
                        }
                    });
                }
            });

            $("#account_lang").on('change', function () {
                var field = "lang";
                var value = $(this).children('option:selected').val();
                update(field, value);
            });

            $(".editable").editable({
                send: "never",
                mode: "inline"
            }).on('save', function (e, params) {
                var field = $(this).attr('data-field');
                var value = params.newValue;
                update(field, value);
            });

            function update(field, value) {
                $.post('{{ route('admin.cabinet.update') }}', {'field': field, 'value': value}, function (data) {
                    if (data == 'ok') {
                        alertify.success('{{ Lang::get('admin::main.saved') }}');
                    }
                })
            }


            $('#upload__avatar').botndUpload({
                btnText: "@lang('admin::main.cabinet.upload_photo')",
                url: '{{ route('admin.cabinet.upload-avatar') }}',
                multiple: false,
                btnClass: "upload__btn",
                fieldname: "photo",
                data: {
                    "id": "{{$account->id}}",
                    "avatar": "{{$account->avatar}}"
                },
                progressbars: 'total',
                allowedExts: 'png|jpg|jpeg|PNG|JPG|JPEG',
                onSuccess: function (file, data) {
                    window.location.reload(true);
                }
            });

            $(".avatar__delete").on('click', function (e) {
                e.stopPropagation();
                e.preventDefault();
                var id = $(this).attr('data-id');

                $.post("{{route('admin.cabinet.delete-avatar')}}", {'id': id}, function (data) {
                    if (data == 'ok') {
                        window.location.reload(true);
                    }
                })
            });

            $(".avatar__crop").on('click', function (e) {
                e.stopPropagation();
                e.preventDefault();
                $("#submit_crop_form").click();
            });

            $(".change_login").click(function (e) {
                e.stopPropagation();
                e.preventDefault();
                $('#modal_change_login').addClass('active');
                setTimeout(function () {
                    $('#change_login-form').children('.modalka__row').eq(0).find('.modalka__input').focus();
                    $('#change_login-form').children('.modalka__row').eq(0).find('.modalka__label').addClass('focus');
                }, 700);
            });

            $("#change_login").click(function (e) {
                e.stopPropagation();
                e.preventDefault();
                $("#change_login-form").submit();
            });

            $(".change_password").click(function (e) {
                e.stopPropagation();
                e.preventDefault();
                $('#modal_change_password').addClass('active');
                setTimeout(function () {
                    $('#change_password-form').children('.modalka__row').eq(0).find('.modalka__input').focus();
                    $('#change_password-form').children('.modalka__row').eq(0).find('.modalka__label').addClass('focus');
                }, 700);
            });

            $("#change_password").click(function (e) {
                e.stopPropagation();
                e.preventDefault();
                $("#change_password-form").submit();
            });

            $(".modalka__overlay, .modalka__close").click(function (e) {
                e.stopPropagation();
                e.preventDefault();
                $('.modalka').removeClass('active');
                $('.modalka__form').children('.modalka__row').find('.modalka__label').removeClass('focus');
            });

            $('.modalka__form').find('.modalka__input').focus(function () {
                $('label[for="' + this.id + '"]').addClass('focus');
            }).blur(function () {
                $('label[for="' + this.id + '"]').removeClass('focus');
            });

        });
    </script>
@stop
